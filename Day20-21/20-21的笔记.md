# JavaScript 操作 DOM 样式

## javascript 动态修改css样式方法汇总(四种方法)

1. 使用obj.className来修改样式表的属性值。

```js
obj.style.backgroundColor= "black";
```

2. 使用obj.style.cssTest来修改嵌入式的css。

```js
obj.style.cssText = 
```

3. 使用obj.className来修改样式表的类名。

```js
obj.setAttribute("class", "style2"); //原本class名为style1改为style2
```

更改样式类名有两种方式。1、obj.className = "style2";  2、 obj.setAttribute("class", "style2");都是一样的效果。

4. 使用更改外联的css文件，从而改变元素的css

```html

<link href="css1.css" rel="stylesheet" type="text/css" id="css"/>

<script>
function changeStyle4() {
    var obj = document.getElementById("css");
    obj.setAttribute("href","css2.css");
}
</script>
```

## cssText用法及注意事项

**cssText 返回值是什么？**

在某些浏览器中（比如 Chrome），你给他赋什么值，它就返回什么值。在 IE 中则比较痛苦，它会格式化输出、会把属性大写、会改变属性顺序、会去掉最后一个分号，比如：

```js
document.getElementById("d1").style.cssText ="color:red; font-size:13px;";
alert(document.getElementById("d1").style.cssText);
```

在 IE 中值为：FONT-SIZE: 13px; COLOR: red

此外，把要修改的样式集中在一起写

```js
element.style.cssText = "width:20px;height:20px;border:solid 1px red;";
```

这样就可以尽量避免页面reflow，提高页面性能。
但是，这样会有一个问题，会把原有的cssText清掉，比如原来的style中有’display:none;’，那么执行完上面的JS后，display就被删掉了。
为了解决这个问题，可以采用cssText累加的方法：

```js
element.style.cssText += 'width:100px;height:100px;top:100px;left:100px;';
```

因此，上面cssText累加的方法在IE中是无效的。

最后，可以在前面添加一个分号来解决这个问题：

```js
element.style.cssText += ';width:100px;height:100px;top:100px;left:100px;';
```


---
参考链接：

- [W3School 样式](http://www.w3school.com.cn/js/js_htmldom_css.asp)
- [W3School HTML DOM Style 对象](http://www.w3school.com.cn/jsref/dom_obj_style.asp)
- [javascript 动态修改css样式方法汇总(四种方法)](https://www.cnblogs.com/aademeng/articles/6279060.html)
- [cssText的用法以及特点](https://www.cnblogs.com/majingyi/p/6840818.html)
- [JavaScript之ClassName属性学习](https://www.cnblogs.com/GreenLeaves/p/5757216.html)